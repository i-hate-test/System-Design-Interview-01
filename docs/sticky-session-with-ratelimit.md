# Sticky Session
> **세션** 
> 서버가 같은 클라이언트로부터 오는 일련의 요청을 하나의 상태로 보고 그 상태를 유지하는 기술.
>
> **세션 기반 인증**
> 클라리언트의 상태 또는 인증 정보를 서버에 저장하고, 클라이언트가 요청을 보낼 때마다 서버에 저장된 정보를 이용하여 인증하는 방식.
> 1. 서버 부하
> 2. 수평 확장성이 떨어짐: 세션을 저장하는 서버가 여러 대일 경우, 세션을 공유해야 하는 문제가 발생.

## 개념
로드 밸런서가 클라이언트를 세션을 처음 발급한 서버로 게속 라우팅 해주는 것.
쿠키에 서버 정보를 저장하고 로드밸런서가 이를 확인하는 방식을 주로 사용.

## 장점
- 서버에 저장된 세션 정보를 공유할 필요가 없어서 서버 간 통신이 필요 없음.

## 단점
- 트래픽이 균등하게 분산되지 않아 특정 서버에 과부하가 발생할 수 있음.
- 부하를 감지하여 로드 밸런서가 다른 서버로 라우팅하면 세션이 초기화 됨.

# Session Clustering
세션이 동일하도록 유지하는 방법으로  
세션을 복제하거나 서로 질의하는 등의 또다른 트래픽이 발생하는 문제가 있음.
1. All-to-all Session Replication
2. Primary-secondary Session Replication


# Session Storage
세션을 서버가 아닌 별도의 저장소에 저장하는 방법.
Redis, Memcached 등의 인메모리 데이터베이스를 사용하여 빠른 I/O 성능을 누림.
다만 장애 대응을 위해 세션 저장소를 여러대 운용하고, 세션을 복제하는 기술들이 추가적으로 요구됨.

---
# 결론
1. Sticky Session 은 분산 환경에서 클라이언트 요청이 하나의 고정된 처리율 제한 장치로 보낼 수 있는 방법이다.
2. 하지만 확장 가능성이 떨어지는 문제가 있으므로, 중앙 집중형 데이터 저장소에서 처리율 제한 장치가 요청을 카운팅하는 것이 좋다.